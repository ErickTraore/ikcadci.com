{"version":3,"sources":["webpack:///./src/components/ConexionComponent.vue?03ff","webpack:///src/components/ConexionComponent.vue","webpack:///./src/components/ConexionComponent.vue?e299","webpack:///./src/components/ConexionComponent.vue?2124","webpack:///./src/components/ConexionComponent.vue?d4f6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","title","attrs","on","postData","errors","_l","error","key","_e","directives","name","rawName","value","user","expression","domProps","$event","target","composing","$set","_m","staticRenderFns","component"],"mappings":"iHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,UAAUL,EAAG,OAAO,CAACM,MAAM,CAAC,OAAS,QAAQC,GAAG,CAAC,OAASX,EAAIY,WAAW,CAACR,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAAEN,EAAIa,OAAa,OAAET,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,gDAAgDH,EAAG,KAAKJ,EAAIc,GAAId,EAAU,QAAE,SAASe,GAAO,OAAOX,EAAG,KAAK,CAACY,IAAID,GAAO,CAACf,EAAIO,GAAGP,EAAIQ,GAAGO,SAAY,KAAKf,EAAIiB,KAAKb,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACM,MAAM,CAAC,IAAM,UAAU,CAACV,EAAIO,GAAG,aAAaH,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOrB,EAAIsB,KAAU,MAAEC,WAAW,eAAeb,MAAM,CAAC,GAAK,QAAQ,KAAO,QAAQ,KAAO,SAASc,SAAS,CAAC,MAASxB,EAAIsB,KAAU,OAAGX,GAAG,CAAC,MAAQ,SAASc,GAAWA,EAAOC,OAAOC,WAAqB3B,EAAI4B,KAAK5B,EAAIsB,KAAM,QAASG,EAAOC,OAAOL,WAAWjB,EAAG,MAAMJ,EAAIO,GAAG,KAAKH,EAAG,QAAQA,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACM,MAAM,CAAC,IAAM,aAAa,CAACV,EAAIO,GAAG,oBAAoBH,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOrB,EAAIsB,KAAa,SAAEC,WAAW,kBAAkBb,MAAM,CAAC,GAAK,WAAW,KAAO,WAAW,KAAO,YAAYc,SAAS,CAAC,MAASxB,EAAIsB,KAAa,UAAGX,GAAG,CAAC,MAAQ,SAASc,GAAWA,EAAOC,OAAOC,WAAqB3B,EAAI4B,KAAK5B,EAAIsB,KAAM,WAAYG,EAAOC,OAAOL,aAAajB,EAAG,SAAS,CAACE,YAAY,6BAA6B,CAACN,EAAIO,GAAG,mBAAmBH,EAAG,MAAM,CAACJ,EAAIO,GAAG,gCAAgCP,EAAI6B,GAAG,MACv8CC,EAAkB,CAAC,WAAa,IAAI9B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,YAAY,YAAYI,MAAM,CAAC,KAAO,aAAa,CAACV,EAAIO,GAAG,yB,6CC8CvL,uBACA,OACA,yBACA,OACA,OACA,UACA,MACA,WACA,iBAIA,SACA,qBAkBA,GAhBA,mBAEA,eAEA,mBAEA,wCACA,oGAFA,mDAKA,gBAEA,kCACA,kDAFA,gDAKA,mBACA,6BAKA,iBACA,kEACA,SACA,iBAEA,OACA,uBACA,0BAEA,oBACA,8BACA,kCACA,8BACA,2BAEA,UACA,eACA,mDACA,sCAIA,uBACA,gKACA,kBAGA,0BACA,2BACA,oBCjH2V,I,wBCQvVwB,EAAY,eACd,EACAhC,EACA+B,GACA,EACA,KACA,KACA,MAIa,OAAAC,E,oECnBf","file":"js/connected~login.cd840282.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group__header\"},[_c('div',{staticClass:\"group__header__body__btn\"},[_vm._v(_vm._s(_vm.title))]),_c('form',{attrs:{\"method\":\"post\"},on:{\"submit\":_vm.postData}},[_c('div',{staticClass:\"group__header__body \"},[(_vm.errors.length)?_c('p',[_c('b',[_vm._v(\"Merci de corriger les erreurs suivantes : \")]),_c('ul',_vm._l((_vm.errors),function(error){return _c('li',{key:error},[_vm._v(_vm._s(error))])}),0)]):_vm._e(),_c('p',[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email* \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],attrs:{\"id\":\"email\",\"type\":\"email\",\"name\":\"email\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}}),_c('br'),_vm._v(\" \"),_c('br')]),_c('p',[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Mot de passe* \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],attrs:{\"id\":\"password\",\"type\":\"password\",\"name\":\"password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})]),_c('button',{staticClass:\" group__header__body__btn\"},[_vm._v(\"Connexion\")])])]),_c('div',[_vm._v(\"Vous n'avez pas de compte:\")]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a',{staticClass:\"labelForm\",attrs:{\"href\":\"#/signup\"}},[_vm._v(\"Créer un compte\")])])}]\n\nexport { render, staticRenderFns }","<template>\n        <div class='group__header'>\n          <div class=\"group__header__body__btn\">{{  title }}</div>\n            <form @submit=\"postData\" method=\"post\">\n                <div class='group__header__body '>\n                    <p v-if=\"errors.length\">\n                        <b>Merci de corriger les erreurs suivantes : </b>\n                    <ul>\n                        <li v-for=\"error in errors\" :key=\"error\">{{ error }}</li>\n                    </ul>\n                    </p>\n                    <p>\n                        <label for=\"email\">Email* </label>\n                        <input\n                              id=\"email\"\n                              v-model=\"user.email\"\n                              type=\"email\"\n                              name=\"email\"\n                        ><br> <br>\n                    </p>\n                    <p>\n                        <label for=\"password\">Mot de passe* </label>\n                        <input\n                              id=\"password\"\n                              v-model=\"user.password\"\n                              type=\"password\"\n                              name=\"password\"\n                        >\n                    </p>\n                    <button class=\" group__header__body__btn\">Connexion</button>\n                </div>\n            </form>\n          <div>Vous n'avez pas de compte:</div>\n        <div>\n          \n          <a class=\"labelForm\" href=\"#/signup\">Créer un compte</a>\n\n          </div>\n        </div>\n</template>\n\n<script>\n  import Vue from \"vue\";\n  \n  import VueAxios from \"vue-axios\";\n  import axios from \"axios\";\n\n  Vue.use(VueAxios, axios)\n  export default {\n    name: 'ConexionComponent',\n    data() {\n      return {\n        errors: [],\n        user: {\n          email: null,\n          password: null,\n        }\n      }\n    },\n    methods: {\n      postData: function (e) {\n\n        e.preventDefault();\n\n        this.errors = [];\n\n        if (!this.user.password) {\n          this.errors.push('Veillez saisir un mot de passe');\n        } else if (!this.validPassword(this.user.password)) {\n          this.errors.push('Votre mot de passe doit contenir entre 4 et 8 caractères et au moins un chiffre');\n        }\n\n        if (!this.user.email) {\n          this.errors.push('Veillez saisir votre email');\n        } else if (!this.validEmail(this.user.email)) {\n          this.errors.push('L\\'adresse email est invalide.');\n        }\n\n        if (!this.errors.length) {\n          return this.post(this.user);\n        }\n\n      },\n\n      post: function (user) {\n         this.axios.post('https://212.227.142.69:3000/api/users/login/',user)\n          .then(reponse => {\n            this.user = reponse.data\n                    // stokage token dans localStorage\n                    let objMySession = {\n                      myId: this.user.$userId,\n                      myToken: this.user.$token\n                      }\n                    let sessionStore = JSON.stringify(objMySession);\n                    localStorage.setItem(\"obj\",sessionStore);\n                    this.$store.dispatch(\"nowLogged\");\n                    this.$router.push({path: '/'});\n                    window.location.reload();\n                    })\n          .catch((error) => {\n            console.log(error)\n            this.errors.push('Votre mot de passe est éronné.');\n            this.$router.push({path: '/login'})\n            })\n             },\n\n      validEmail: function (email) {\n        const regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return regex.test(email);\n\n      },\n      validPassword: function (password) {\n        const regex = /^(?=.*\\d).{4,8}$/;\n        return regex.test(password);\n      }\n    }\n  }\n\n\n</script>\n<style lang=\"scss\">\n    @import 'sass/main.scss';\n   \n \n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConexionComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConexionComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConexionComponent.vue?vue&type=template&id=5558a176&\"\nimport script from \"./ConexionComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./ConexionComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConexionComponent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConexionComponent.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}